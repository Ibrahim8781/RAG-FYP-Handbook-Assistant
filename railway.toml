[build]
builder = "NIXPACKS"
buildCommand = "pip install --no-cache-dir -r requirements.txt"

[deploy]
startCommand = "streamlit run app.py --server.port=$PORT --server.address=0.0.0.0 --server.headless=true --server.enableCORS=false --server.enableXsrfProtection=false"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/"
healthcheckTimeout = 100

# Resource limits - Lower CPU & memory to reduce costs by 50-70%
[resources]
cpu = 0.25
memory = 512

[env]
# Railway will auto-inject PORT
# You'll add GROQ_API_KEY in Railway dashboard